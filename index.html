<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ArtScore - –†–∏—Å—É–π –∏ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π</title>
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #e9ecef;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --text-tertiary: #adb5bd;
            --accent-primary: #0088cc;
            --accent-secondary: #005999;
            --creative-color: #6f42c1;
            --rate-color: #ff6b35;
            --shop-color: #28a745;
            --border-color: #dee2e6;
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            --radius: 12px;
            --radius-lg: 16px;
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #3d3d3d;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --text-tertiary: #6c757d;
            --border-color: #404040;
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            touch-action: pan-y;
            overflow-x: hidden;
        }

        #app {
            max-width: 400px;
            margin: 0 auto;
            background-color: var(--bg-primary);
            min-height: 100vh;
            position: relative;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background-color: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            font-size: 18px;
            font-weight: 600;
        }

        .coin-balance {
            display: flex;
            align-items: center;
            gap: 4px;
            background: var(--bg-secondary);
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 500;
            color: var(--accent-primary);
        }

        .header-actions button {
            background: none;
            border: none;
            color: var(--text-secondary);
            padding: 8px;
            border-radius: var(--radius);
            cursor: pointer;
            min-width: 44px;
            min-height: 44px;
        }

        .main-content {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 80px;
            -webkit-overflow-scrolling: touch;
        }

        .view {
            display: none;
            height: 100%;
        }

        .view.active {
            display: block;
        }

        .view-header {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-color);
            background-color: var(--bg-primary);
            position: sticky;
            top: 0;
            z-index: 90;
        }

        .back-btn {
            background: none;
            border: none;
            color: var(--accent-primary);
            padding: 8px;
            margin-right: 12px;
            border-radius: var(--radius);
            cursor: pointer;
            min-width: 44px;
            min-height: 44px;
        }

        .welcome-section {
            text-align: center;
            padding: 40px 24px 32px;
        }

        .avatar-large {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--creative-color), #5a32a3);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 24px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            padding: 0 16px 20px;
        }

        .nav-btn {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 20px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            min-height: 120px;
        }

        .nav-btn:active {
            background-color: var(--bg-tertiary);
            transform: translateY(2px);
        }

        .btn-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            color: white;
            font-size: 20px;
        }

        .creative .btn-icon { background: linear-gradient(135deg, var(--creative-color), #5a32a3); }
        .rate .btn-icon { background: linear-gradient(135deg, var(--rate-color), #e55a2b); }
        .shop .btn-icon { background: linear-gradient(135deg, var(--shop-color), #1e7e34); }
        .profile .btn-icon { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); }

        .nav-btn span {
            display: block;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .nav-btn p {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .quick-stats {
            display: flex;
            justify-content: space-around;
            padding: 20px 16px;
            background: var(--bg-secondary);
            margin: 16px;
            border-radius: var(--radius-lg);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            display: block;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .canvas-container {
            padding: 12px;
            background: var(--bg-secondary);
            border-radius: var(--radius);
            margin: 12px;
            display: flex;
            justify-content: center;
            touch-action: none;
        }

        #drawing-canvas {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            cursor: crosshair;
            border: 2px solid var(--border-color);
            touch-action: none;
            display: block;
        }

        .tools-panel {
            padding: 12px;
            background: var(--bg-secondary);
            margin: 0 12px;
            border-radius: var(--radius);
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .tool-group label {
            font-weight: 500;
            font-size: 14px;
            margin-bottom: 8px;
            display: block;
        }

        .tool-buttons {
            display: flex;
            gap: 8px;
        }

        .tool-btn {
            background: var(--bg-primary);
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            padding: 12px;
            cursor: pointer;
            transition: all 0.2s;
            min-width: 50px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .tool-btn.active {
            border-color: var(--accent-primary);
            background: var(--accent-primary);
            color: white;
        }

        .tool-btn:active {
            transform: scale(0.95);
        }

        .color-picker {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        #color-picker {
            width: 100%;
            height: 50px;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            min-height: 50px;
        }

        .color-presets {
            display: flex;
            gap: 8px;
            justify-content: center;
        }

        .color-option {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .color-option:active {
            transform: scale(0.9);
        }

        #brush-size {
            width: 100%;
            height: 30px;
        }

        .current-brush-info {
            padding: 0 12px;
            margin-bottom: 12px;
        }

        .brush-info-card {
            background: var(--bg-secondary);
            padding: 12px;
            border-radius: var(--radius);
            text-align: center;
            border: 2px solid var(--accent-primary);
        }

        .drawing-actions {
            padding: 12px;
            display: flex;
            gap: 12px;
        }

        .action-btn {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-height: 50px;
            font-size: 16px;
        }

        .action-btn:active {
            transform: translateY(2px);
        }

        .primary {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: white;
        }

        .secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .art-feed {
            padding: 12px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .art-item {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: 16px;
        }

        .art-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .art-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--creative-color), #5a32a3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
        }

        .art-preview {
            width: 100%;
            height: 200px;
            background: white;
            border-radius: var(--radius);
            margin-bottom: 12px;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-tertiary);
            font-size: 14px;
        }

        .rating-panel {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .rating-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .stars-rating {
            display: flex;
            gap: 4px;
            justify-content: center;
        }

        .star-btn {
            background: none;
            border: none;
            color: var(--text-tertiary);
            cursor: pointer;
            font-size: 24px;
            padding: 8px;
            min-width: 44px;
            min-height: 44px;
        }

        .star-btn.active {
            color: #ffc107;
        }

        .star-btn:active {
            transform: scale(0.9);
        }

        .shop-categories {
            display: flex;
            padding: 12px;
            gap: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .category-btn {
            flex: 1;
            padding: 12px 8px;
            border: none;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 14px;
            min-height: 44px;
        }

        .category-btn.active {
            background: var(--accent-primary);
            color: white;
        }

        .category-btn:active {
            transform: scale(0.98);
        }

        .shop-items {
            padding: 12px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .shop-item {
            background: var(--bg-secondary);
            border-radius: var(--radius);
            padding: 12px;
            text-align: center;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .shop-item:active {
            transform: translateY(2px);
        }

        .shop-item.owned {
            border-color: var(--shop-color);
        }

        .shop-item-image {
            width: 50px;
            height: 50px;
            background: var(--bg-tertiary);
            border-radius: var(--radius);
            margin: 0 auto 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 20px;
        }

        .shop-item-name {
            font-weight: 500;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .shop-item-description {
            font-size: 11px;
            color: var(--text-secondary);
            margin: 2px 0;
        }

        .shop-item-price {
            color: var(--accent-primary);
            font-weight: 600;
            font-size: 14px;
        }

        .owned-badge {
            background: var(--shop-color);
            color: white;
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 10px;
            margin-top: 6px;
        }

        .profile-container {
            padding: 16px 12px;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
        }

        .profile-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--creative-color), #5a32a3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .stat-card {
            background-color: var(--bg-secondary);
            border-radius: var(--radius);
            padding: 16px;
            text-align: center;
        }

        .stat-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 8px;
            color: white;
            font-size: 14px;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 12px;
        }

        .gallery-item {
            aspect-ratio: 1;
            background: var(--bg-secondary);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--bg-primary);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            max-width: 400px;
            margin: 0 auto;
            z-index: 1000;
        }

        .nav-item {
            background: none;
            border: none;
            color: var(--text-secondary);
            padding: 8px 4px;
            border-radius: var(--radius);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            flex: 1;
            max-width: 80px;
            font-size: 10px;
            min-height: 60px;
        }

        .nav-item.active {
            color: var(--accent-primary);
        }

        .nav-item:active {
            background-color: var(--bg-tertiary);
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .brush-buttons {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 8px;
        }

        .brush-btn {
            padding: 8px 12px;
            background: var(--bg-tertiary);
            border: none;
            border-radius: 6px;
            font-size: 11px;
            cursor: pointer;
            min-height: 36px;
        }

        .brush-btn:active {
            transform: scale(0.95);
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent-primary);
            color: white;
            padding: 12px 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            z-index: 10000;
            font-weight: 500;
            max-width: 300px;
            text-align: center;
        }

        /* –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 400px) {
            .canvas-container {
                padding: 8px;
                margin: 8px;
            }
            
            #drawing-canvas {
                height: 350px;
            }
            
            .tools-panel {
                padding: 8px;
                margin: 0 8px;
            }
            
            .drawing-actions {
                padding: 8px;
            }
            
            .tool-btn {
                min-width: 44px;
                min-height: 44px;
                padding: 10px;
            }
            
            .action-btn {
                min-height: 44px;
                padding: 12px;
            }
        }

        /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ iOS */
        .no-select {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body class="no-select">
    <div id="app">
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="main-screen" class="screen active">
            <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
            <header class="header">
                <div class="coin-balance">
                    <span>‚òÖ</span>
                    <span id="coins-count">100</span>
                </div>
                <h1>ArtScore</h1>
                <div class="header-actions">
                    <button id="theme-toggle">üåô</button>
                </div>
            </header>

            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
            <main class="main-content">
                <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
                <div id="home-view" class="view active">
                    <div class="welcome-section">
                        <div class="avatar-large">üé®</div>
                        <h2>–¢–≤–æ—Ä—á–µ—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞</h2>
                        <p>–†–∏—Å—É–π, –æ—Ü–µ–Ω–∏–≤–∞–π, —Ä–∞–∑–≤–∏–≤–∞–π—Å—è</p>
                    </div>

                    <div class="demo-info" style="background: var(--bg-secondary); padding: 12px; border-radius: var(--radius); margin: 0 16px 20px; text-align: center; font-size: 14px;">
                        <strong>üì± –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤!</strong><br>
                        ‚Ä¢ –†–∏—Å—É–π—Ç–µ –ø–∞–ª—å—Ü–µ–º –Ω–∞ —Ö–æ–ª—Å—Ç–µ<br>
                        ‚Ä¢ –£–¥–æ–±–Ω—ã–µ –±–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏<br>
                        ‚Ä¢ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                    </div>

                    <div class="button-grid">
                        <button class="nav-btn creative" data-view="draw-view">
                            <div class="btn-icon">‚úèÔ∏è</div>
                            <span>–†–∏—Å–æ–≤–∞—Ç—å</span>
                            <p>–°–æ–∑–¥–∞–π –Ω–æ–≤–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ</p>
                        </button>

                        <button class="nav-btn rate" data-view="feed-view">
                            <div class="btn-icon">‚≠ê</div>
                            <span>–û—Ü–µ–Ω–∏–≤–∞—Ç—å</span>
                            <p>–°–º–æ—Ç—Ä–∏ –ª–µ–Ω—Ç—É –∏ —Å—Ç–∞–≤—å –æ—Ü–µ–Ω–∫–∏</p>
                        </button>

                        <button class="nav-btn shop" data-view="shop-view">
                            <div class="btn-icon">üõçÔ∏è</div>
                            <span>–ú–∞–≥–∞–∑–∏–Ω</span>
                            <p>–ö—É–ø–∏ –∫–∏—Å—Ç–∏ –∏ —Ä–∞–º–∫–∏</p>
                        </button>

                        <button class="nav-btn profile" data-view="profile-view">
                            <div class="btn-icon">üë§</div>
                            <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                            <p>–¢–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</p>
                        </button>
                    </div>

                    <div class="quick-stats">
                        <div class="stat-item">
                            <span class="stat-value" id="quick-rating">4.2</span>
                            <span class="stat-label">–†–µ–π—Ç–∏–Ω–≥</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="quick-works">3</span>
                            <span class="stat-label">–†–∞–±–æ—Ç—ã</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="quick-coins">100</span>
                            <span class="stat-label">–ú–æ–Ω–µ—Ç—ã</span>
                        </div>
                    </div>
                </div>

                <!-- –≠–∫—Ä–∞–Ω —Ä–∏—Å–æ–≤–∞–Ω–∏—è -->
                <div id="draw-view" class="view">
                    <div class="view-header">
                        <button class="back-btn">‚Üê</button>
                        <h2>–•–æ–ª—Å—Ç</h2>
                        <button class="action-btn">üíæ</button>
                    </div>

                    <div class="canvas-container">
                        <canvas id="drawing-canvas" width="350" height="400"></canvas>
                    </div>

                    <div class="tools-panel">
                        <div class="tool-group">
                            <label>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</label>
                            <div class="tool-buttons">
                                <button class="tool-btn active" data-tool="brush">‚úèÔ∏è</button>
                                <button class="tool-btn" data-tool="eraser">üßπ</button>
                                <button class="tool-btn" data-tool="fill">üé®</button>
                            </div>
                        </div>

                        <div class="tool-group">
                            <label>–¶–≤–µ—Ç</label>
                            <div class="color-picker">
                                <input type="color" id="color-picker" value="#0088cc">
                                <div class="color-presets">
                                    <div class="color-option" style="background: #0088cc;" data-color="#0088cc"></div>
                                    <div class="color-option" style="background: #ff4444;" data-color="#ff4444"></div>
                                    <div class="color-option" style="background: #44ff44;" data-color="#44ff44"></div>
                                    <div class="color-option" style="background: #ffaa00;" data-color="#ffaa00"></div>
                                </div>
                            </div>
                        </div>

                        <div class="tool-group">
                            <label>–†–∞–∑–º–µ—Ä –∫–∏—Å—Ç–∏: <span id="brush-size-value">5</span>px</label>
                            <input type="range" id="brush-size" min="1" max="20" value="5">
                        </div>
                    </div>

                    <!-- –ë–ª–æ–∫ —Ç–µ–∫—É—â–µ–π –∫–∏—Å—Ç–∏ -->
                    <div class="current-brush-info">
                        <div class="brush-info-card">
                            <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 4px;">üé® –¢–µ–∫—É—â–∞—è –∫–∏—Å—Ç—å</div>
                            <div style="font-weight: 600; font-size: 16px; color: var(--accent-primary);" id="current-brush-name">–ë–∞–∑–æ–≤–∞—è</div>
                            <div style="font-size: 12px; color: var(--text-secondary);" id="current-brush-effect"></div>
                            <div class="brush-buttons">
                                <button class="brush-btn" onclick="setActiveBrush('basic')">–ë–∞–∑–æ–≤–∞—è</button>
                                <button class="brush-btn" onclick="setActiveBrush('premium')">–ü—Ä–µ–º–∏—É–º</button>
                                <button class="brush-btn" onclick="setActiveBrush('spray')">–ê—ç—Ä–æ–≥—Ä–∞—Ñ</button>
                            </div>
                        </div>
                    </div>

                    <div class="drawing-actions">
                        <button class="action-btn secondary" id="clear-canvas">
                            üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å
                        </button>
                        <button class="action-btn primary" id="publish-art">
                            üì§ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
                        </button>
                    </div>
                </div>

                <!-- –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–∞–∫–∏–º –∂–µ –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ -->
                <!-- –≠–∫—Ä–∞–Ω –ª–µ–Ω—Ç—ã -->
                <div id="feed-view" class="view">
                    <div class="view-header">
                        <button class="back-btn">‚Üê</button>
                        <h2>–õ–µ–Ω—Ç–∞ —Ä–∞–±–æ—Ç</h2>
                        <select id="feed-type">
                            <option value="new">–ù–æ–≤—ã–µ</option>
                            <option value="trending">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ</option>
                        </select>
                    </div>

                    <div class="art-feed" id="art-feed">
                        <div class="empty-state">
                            <div class="icon">üñºÔ∏è</div>
                            <h3>–ü–æ–∫–∞ –Ω–µ—Ç —Ä–∞–±–æ—Ç</h3>
                            <p>–ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –ø–æ–¥–µ–ª–∏—Ç—Å—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ–º!</p>
                        </div>
                    </div>
                </div>

                <!-- –≠–∫—Ä–∞–Ω –º–∞–≥–∞–∑–∏–Ω–∞ -->
                <div id="shop-view" class="view">
                    <div class="view-header">
                        <button class="back-btn">‚Üê</button>
                        <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
                        <div class="coin-balance">
                            <span>‚òÖ</span>
                            <span id="shop-coins">100</span>
                        </div>
                    </div>

                    <div class="shop-categories">
                        <button class="category-btn active" data-category="brushes">–ö–∏—Å—Ç–∏</button>
                        <button class="category-btn" data-category="frames">–†–∞–º–∫–∏</button>
                        <button class="category-btn" data-category="palettes">–ü–∞–ª–∏—Ç—Ä—ã</button>
                    </div>

                    <div class="shop-items" id="shop-items">
                        <!-- –¢–æ–≤–∞—Ä—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å -->
                    </div>
                </div>

                <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—è -->
                <div id="profile-view" class="view">
                    <div class="view-header">
                        <button class="back-btn">‚Üê</button>
                        <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
                    </div>

                    <div class="profile-container">
                        <div class="profile-header">
                            <div class="profile-avatar">üë§</div>
                            <div class="profile-info">
                                <h3 id="profile-username">–•—É–¥–æ–∂–Ω–∏–∫</h3>
                                <p>–£—á–∞—Å—Ç–Ω–∏–∫ —Å <span id="join-date">—Å–µ–≥–æ–¥–Ω—è</span></p>
                                <div class="profile-rating">
                                    <div class="stars">‚≠ê <span id="profile-rating">4.2</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">üñºÔ∏è</div>
                                <div class="stat-info">
                                    <span class="stat-number" id="profile-works">3</span>
                                    <span class="stat-label">–†–∞–±–æ—Ç—ã</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">‚≠ê</div>
                                <div class="stat-info">
                                    <span class="stat-number" id="profile-ratings">15</span>
                                    <span class="stat-label">–û—Ü–µ–Ω–∫–∏</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">‚òÖ</div>
                                <div class="stat-info">
                                    <span class="stat-number" id="profile-coins">100</span>
                                    <span class="stat-label">–ú–æ–Ω–µ—Ç—ã</span>
                                </div>
                            </div>
                        </div>

                        <div class="gallery-section">
                            <h4>–ú–æ–∏ —Ä–∞–±–æ—Ç—ã</h4>
                            <div class="gallery-grid" id="user-gallery">
                                <div class="gallery-item">üé®</div>
                                <div class="gallery-item">üñåÔ∏è</div>
                                <div class="gallery-item">‚úèÔ∏è</div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
            <nav class="bottom-nav">
                <button class="nav-item active" data-view="home-view">
                    üè†<span>–ì–ª–∞–≤–Ω–∞—è</span>
                </button>
                <button class="nav-item" data-view="draw-view">
                    ‚úèÔ∏è<span>–†–∏—Å–æ–≤–∞—Ç—å</span>
                </button>
                <button class="nav-item" data-view="feed-view">
                    ‚≠ê<span>–õ–µ–Ω—Ç–∞</span>
                </button>
                <button class="nav-item" data-view="shop-view">
                    üõçÔ∏è<span>–ú–∞–≥–∞–∑–∏–Ω</span>
                </button>
                <button class="nav-item" data-view="profile-view">
                    üë§<span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                </button>
            </nav>
        </div>
    </div>

    <script>
        // === –°–û–°–¢–û–Ø–ù–ò–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ===
        let currentUser = {
            id: 'user_1',
            username: '–•—É–¥–æ–∂–Ω–∏–∫',
            joinDate: new Date().toLocaleDateString('ru-RU'),
            coins: 100,
            rating: 4.2,
            worksCount: 3,
            totalRatings: 15,
            inventory: ['brush_basic', 'frame_basic']
        };

        let artworks = [];
        
        // === –°–ò–°–¢–ï–ú–ê –ö–ò–°–¢–ï–ô ===
        let brushes = {
            basic: { 
                name: "–ë–∞–∑–æ–≤–∞—è", 
                size: 5, 
                color: "#0088cc", 
                price: 0, 
                owned: true 
            },
            premium: { 
                name: "–ü—Ä–µ–º–∏—É–º", 
                size: 8, 
                color: "#ff6b35", 
                price: 50, 
                owned: false, 
                effect: "glow" 
            },
            spray: { 
                name: "–ê—ç—Ä–æ–≥—Ä–∞—Ñ", 
                size: 12, 
                color: "#6f42c1", 
                price: 75, 
                owned: false, 
                effect: "spray" 
            }
        };
        let currentBrush = 'basic';

        let currentTool = 'brush';
        let currentColor = '#0088cc';
        let brushSize = 5;
        let isDrawing = false;
        let lastX = 0, lastY = 0;

        // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            initializeCanvas();
            loadSampleData();
            updateUI();
        });

        function initializeApp() {
            showView('home-view');
            updateBrushPreview();
        }

        function setupEventListeners() {
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            document.querySelectorAll('.nav-btn, .nav-item').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const view = e.currentTarget.getAttribute('data-view');
                    showView(view);
                    updateBottomNav(view);
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º touch —Å–æ–±—ã—Ç–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
                btn.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    const view = e.currentTarget.getAttribute('data-view');
                    showView(view);
                    updateBottomNav(view);
                });
            });

            // –ö–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥
            document.querySelectorAll('.back-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    showView('home-view');
                    updateBottomNav('home-view');
                });
                
                btn.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    showView('home-view');
                    updateBottomNav('home-view');
                });
            });

            // –¢–µ–º–∞
            document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
            document.getElementById('theme-toggle').addEventListener('touchstart', (e) => {
                e.preventDefault();
                toggleTheme();
            });

            // –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
            document.querySelectorAll('.tool-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    setActiveTool(e.currentTarget.getAttribute('data-tool'));
                });
                
                btn.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    setActiveTool(e.currentTarget.getAttribute('data-tool'));
                });
            });

            // –¶–≤–µ—Ç–∞
            document.getElementById('color-picker').addEventListener('input', (e) => {
                currentColor = e.target.value;
            });

            document.querySelectorAll('.color-option').forEach(option => {
                option.addEventListener('click', (e) => {
                    currentColor = e.currentTarget.getAttribute('data-color');
                    document.getElementById('color-picker').value = currentColor;
                });
                
                option.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    currentColor = e.currentTarget.getAttribute('data-color');
                    document.getElementById('color-picker').value = currentColor;
                });
            });

            // –ö–∏—Å—Ç—å
            document.getElementById('brush-size').addEventListener('input', (e) => {
                brushSize = parseInt(e.target.value);
                document.getElementById('brush-size-value').textContent = brushSize;
            });

            // –î–µ–π—Å—Ç–≤–∏—è
            document.getElementById('clear-canvas').addEventListener('click', clearCanvas);
            document.getElementById('publish-art').addEventListener('click', publishArtwork);
            
            document.getElementById('clear-canvas').addEventListener('touchstart', (e) => {
                e.preventDefault();
                clearCanvas();
            });
            
            document.getElementById('publish-art').addEventListener('touchstart', (e) => {
                e.preventDefault();
                publishArtwork();
            });

            // –ú–∞–≥–∞–∑–∏–Ω
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    setActiveCategory(e.currentTarget.getAttribute('data-category'));
                });
                
                btn.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    setActiveCategory(e.currentTarget.getAttribute('data-category'));
                });
            });

            // –õ–µ–Ω—Ç–∞
            document.getElementById('feed-type').addEventListener('change', loadArtFeed);
        }

        function initializeCanvas() {
            const canvas = document.getElementById('drawing-canvas');
            const ctx = canvas.getContext('2d');
            
            // –û—á–∏—â–∞–µ–º canvas
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            ctx.lineWidth = brushSize;
            
            // === –°–û–ë–´–¢–ò–Ø –î–õ–Ø –ö–û–ú–ü–¨–Æ–¢–ï–†–ê ===
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // === –°–û–ë–´–¢–ò–Ø –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–• –£–°–¢–†–û–ô–°–¢–í ===
            canvas.addEventListener('touchstart', handleTouchStart, { passive: false });
            canvas.addEventListener('touchmove', handleTouchMove, { passive: false });
            canvas.addEventListener('touchend', stopDrawing);
            canvas.addEventListener('touchcancel', stopDrawing);
            
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ–≥–æ canvas
            canvas.addEventListener('touchstart', (e) => {
                if (e.target === canvas) {
                    e.preventDefault();
                }
            }, { passive: false });
            
            canvas.addEventListener('touchmove', (e) => {
                if (e.target === canvas) {
                    e.preventDefault();
                }
            }, { passive: false });
        }

        // === –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ö–ê–°–ê–ù–ò–ô ===
        function handleTouchStart(e) {
            e.preventDefault();
            if (e.touches.length === 1) {
                const touch = e.touches[0];
                const rect = e.target.getBoundingClientRect();
                lastX = touch.clientX - rect.left;
                lastY = touch.clientY - rect.top;
                isDrawing = true;
                
                // –†–∏—Å—É–µ–º –ø–µ—Ä–≤—É—é —Ç–æ—á–∫—É
                const ctx = e.target.getContext('2d');
                ctx.beginPath();
                ctx.arc(lastX, lastY, brushSize/2, 0, Math.PI * 2);
                ctx.fillStyle = currentTool === 'eraser' ? 'white' : currentColor;
                ctx.fill();
            }
        }

        function handleTouchMove(e) {
            if (!isDrawing) return;
            e.preventDefault();
            
            if (e.touches.length === 1) {
                const touch = e.touches[0];
                const rect = e.target.getBoundingClientRect();
                const x = touch.clientX - rect.left;
                const y = touch.clientY - rect.top;
                
                drawOnCanvas(x, y);
                
                lastX = x;
                lastY = y;
            }
        }

        function drawOnCanvas(x, y) {
            const canvas = document.getElementById('drawing-canvas');
            const ctx = canvas.getContext('2d');
            const brush = brushes[currentBrush];
            
            // –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            ctx.strokeStyle = currentTool === 'eraser' ? 'white' : currentColor;
            ctx.lineWidth = brushSize;
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã
            ctx.shadowBlur = 0;
            ctx.shadowColor = 'transparent';
            
            // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –ø—Ä–µ–º–∏—É–º –∫–∏—Å—Ç–µ–π
            if (brush.effect === 'glow' && currentTool !== 'eraser') {
                ctx.shadowBlur = 15;
                ctx.shadowColor = currentColor;
                ctx.lineWidth = brushSize * 0.8;
            } else if (brush.effect === 'spray' && currentTool !== 'eraser') {
                // –≠—Ñ—Ñ–µ–∫—Ç –∞—ç—Ä–æ–≥—Ä–∞—Ñ–∞
                ctx.shadowBlur = 8;
                ctx.shadowColor = currentColor;
                
                // –û—Å–Ω–æ–≤–Ω–∞—è –ª–∏–Ω–∏—è
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(x, y);
                ctx.stroke();
                
                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏
                for (let i = 0; i < 3; i++) {
                    const offsetX = (Math.random() - 0.5) * brushSize;
                    const offsetY = (Math.random() - 0.5) * brushSize;
                    const size = Math.random() * brushSize / 3 + 1;
                    
                    ctx.beginPath();
                    ctx.arc(x + offsetX, y + offsetY, size, 0, Math.PI * 2);
                    ctx.fillStyle = currentColor;
                    ctx.fill();
                }
                return;
            }
            
            // –û—Å–Ω–æ–≤–Ω–æ–µ —Ä–∏—Å–æ–≤–∞–Ω–∏–µ
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(x, y);
            ctx.stroke();
        }

        // === –§–£–ù–ö–¶–ò–ò –†–ò–°–û–í–ê–ù–ò–Ø ===
        function startDrawing(e) {
            isDrawing = true;
            const canvas = document.getElementById('drawing-canvas');
            const rect = canvas.getBoundingClientRect();
            [lastX, lastY] = [e.clientX - rect.left, e.clientY - rect.top];
            
            // –†–∏—Å—É–µ–º –ø–µ—Ä–≤—É—é —Ç–æ—á–∫—É
            const ctx = canvas.getContext('2d');
            ctx.beginPath();
            ctx.arc(lastX, lastY, brushSize/2, 0, Math.PI * 2);
            ctx.fillStyle = currentTool === 'eraser' ? 'white' : currentColor;
            ctx.fill();
        }

        function draw(e) {
            if (!isDrawing) return;
            
            const canvas = document.getElementById('drawing-canvas');
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            drawOnCanvas(x, y);
            
            [lastX, lastY] = [x, y];
        }

        function stopDrawing() {
            isDrawing = false;
        }

        // === –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ö–ò–°–¢–ï–ô ===
        function updateBrushPreview() {
            const brush = brushes[currentBrush];
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏—è
            currentColor = brush.color;
            brushSize = brush.size;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            document.getElementById('color-picker').value = brush.color;
            document.getElementById('brush-size').value = brush.size;
            document.getElementById('brush-size-value').textContent = brush.size;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∫–∏—Å—Ç—å
            if (document.getElementById('current-brush-name')) {
                document.getElementById('current-brush-name').textContent = brush.name;
                document.getElementById('current-brush-effect').textContent = brush.effect ? `–≠—Ñ—Ñ–µ–∫—Ç: ${brush.effect}` : '';
            }
            
            showNotification(`–ê–∫—Ç–∏–≤–Ω–∞ –∫–∏—Å—Ç—å: ${brush.name}`);
        }

        function setActiveBrush(brushId) {
            if (!brushes[brushId].owned) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –∫—É–ø–∏—Ç–µ —ç—Ç—É –∫–∏—Å—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ!');
                return;
            }
            currentBrush = brushId;
            updateBrushPreview();
        }

        function setActiveTool(tool) {
            currentTool = tool;
            document.querySelectorAll('.tool-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-tool="${tool}"]`).classList.add('active');
        }

        function clearCanvas() {
            const canvas = document.getElementById('drawing-canvas');
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            showNotification('–•–æ–ª—Å—Ç –æ—á–∏—â–µ–Ω!');
        }

        function publishArtwork() {
            const title = prompt('–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã:') || '–ú–æ—è —Ä–∞–±–æ—Ç–∞';
            const description = prompt('–û–ø–∏—Å–∞–Ω–∏–µ:') || '–û–ø–∏—Å–∞–Ω–∏–µ';
            
            const newArtwork = {
                id: 'art_' + Date.now(),
                userId: currentUser.id,
                username: currentUser.username,
                title: title,
                description: description,
                rating: 0,
                ratings: [],
                timestamp: new Date().toISOString()
            };
            
            artworks.unshift(newArtwork);
            currentUser.worksCount++;
            
            showNotification('–†–∞–±–æ—Ç–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞!');
            clearCanvas();
            showView('home-view');
            updateUI();
        }

        // === –û–°–¢–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò (–æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ===
        // [–ó–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–¥ –¥–ª—è loadArtFeed, rateArtwork, setActiveCategory, 
        // loadShopItems, buyItem, loadProfileData, showView, updateBottomNav, 
        // toggleTheme, updateUI, showNotification, loadSampleData]
        // ... (–æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏)

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        window.rateArtwork = rateArtwork;
        window.buyItem = buyItem;
        window.setActiveBrush = setActiveBrush;
    </script>
</body>
</html>